# 성능 향상을 위한 인프라 구조

## 응답과 처리량

시스템 성능 지표에는 응답(Response)과 처리량(Throughput)있다. \
응답은 처리 하나당 소요 시간을 의미하며, 처리량은 단위 시간당 처리하는 양을 의미한다.&#x20;

이 두 가지를 혼동하지 않고 명확히 구별하는 것이 중요하다. &#x20;

`응답시간` : 검색 엔진에서 검색 버튼을 누른 후 결과가 표시되기까지 걸리는 시간 \
`처리량` : 검색 엔진이 초당 받아들이는 사용자 수

#### 주의사항

웹시스템의 경우에는 웹 서버의 응답뿐만 아니라 AP 서버의 DB 서버의 응답시간도 포함한다

시스템 성능을 측정할때는 퍼센타일(Percentile) 개념을 이용하여 극단적으로 응답 시간이 긴 사용자는 다른 문제를 내포하고 있을 수 있기 때문에 오차라고 생각하고 평균값에 포함하지 않는다&#x20;

### 응답 문제

로그나 테스트 등을 통해 어떤 계층(웹/AP/DB 등)에서 응답 지연이 발생하고 있는지 파악해야 한다

실제로 브라우저 렌더링 속도나 네트워크 문제가 포함되어 있을 수도 있다  &#x20;

### 처리량 문제

대량의 데이터를 교환하고 싶은데 영역이 부족한 경우에 처리량 문제가 발생한다

물리적으로 데이터를 통과시킬 수 없을 때 처리량 관점의 병목 현상이 발생하게 된다&#x20;

일반적으로 CPU나 메모리 주변 처리량이 많지만 디스크나 네트워크 동신 대역은 낮아서 병목현상이 발생하기 쉽다.

혹은 CPU가 처리를 감당하지 못하는 처리가 올 때 '대기 행렬' 발생해서 처리량 한계를 초과할 수도 있다   여기서 중요한 점은 응답과 처리량은 밀접한 관계가 있다는 것이다.

* 응답이 매우 느린 시스템에서는 다수의 사용자 요청이 시스템 내에 누적되므로 전체 처리량도 적어진다
* 처리량이 포화 상태가 되면 리소스가 부족해져서 응답도 함께 약화된다
* 즉, 성능 병목 현상을 개선하려면 반드시 양쪽을 고려해서 진행해야 한다   &#x20;

2. 병목 현상이란?

2.1 처리 속도의 제한 요소가 되는 병목 현상

* 인프라 기술자가 병목 현상(Bottleneck)에 대해 이해하지 않고 성능을 개선할 수는 없다
* 인프라 아키텍처 용어로서 병목 현상이란, 처리량을 제한하고 있는 요인을 가리킨다
* 명칭 그대로 '병(Bottle)'의 '목(Neck)' 부분을 생각하면 된다
