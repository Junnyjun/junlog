# Setting

#### 코틀린 컴파일러 옵션 정리 및 활용

코틀린(Kotlin)은 다양한 컴파일러 옵션을 제공하여, 코드를 작성할 때 세부적인 동작을 조정할 수 있게 합니다. 이러한 옵션들은 주로 `freeCompilerArgs`를 통해 지정되며, 코드의 null-safety를 강화하거나 실험적 기능을 허용하는 등 다양한 목적으로 사용됩니다. 이번 글에서는 자주 사용되는 코틀린 컴파일러 옵션을 정리하고, 각 옵션의 역할과 활용 방법을 살펴보겠습니다.

**-Xjsr305=strict**

`-Xjsr305=strict` 옵션은 코틀린에서 자바의 JSR-305 애너테이션을 어떻게 처리할지 설정하는 중요한 기능을 합니다. 이 설정을 통해 자바의 `@Nonnull`이나 `@Nullable` 애너테이션을 좀 더 엄격하게 다룰 수 있습니다.

* **Strict 모드**에서는 `@Nullable`로 표시된 자바 메서드는 코틀린에서 nullable 타입으로 취급되며, `@Nonnull`은 non-nullable 타입으로 강제됩니다. 이를 통해 컴파일 단계에서 NullPointerException이 발생할 수 있는 가능성을 줄일 수 있습니다. 코틀린과 자바의 상호운용성을 강화하는 데 유용한 설정입니다.

**-Xopt-in=kotlin.RequiresOptIn**

특정 API가 실험적이거나 선택적인 기능임을 나타내기 위해 사용되는 옵션입니다. 실험적 기능을 사용할 때는 `@OptIn` 애너테이션을 추가하여 해당 기능이 선택적으로 사용된다는 것을 명시해야 합니다.

* **용도**: 실험적 기능이나 잠재적으로 불안정한 API를 프로젝트에서 명시적으로 허용할 때 사용합니다.

**-Xinline-classes**

코틀린의 \*\*인라인 클래스(Inline Class)\*\*를 활성화하는 옵션으로, 주로 작은 데이터를 효율적으로 다루고자 할 때 사용됩니다. 인라인 클래스는 객체를 래핑하는 비용 없이 사용될 수 있어 성능 최적화에 유리합니다.

* **용도**: 작은 데이터를 값처럼 래핑하여 타입 안전성을 확보하면서 성능 저하를 방지하고자 할 때 유용합니다.

**-Xjvm-default=all**

`-Xjvm-default=all` 옵션은 코틀린에서 인터페이스의 \*\*기본 메서드(default method)\*\*를 활성화하여, 자바와의 상호운용성을 개선합니다. 이 옵션을 통해 인터페이스에서 기본 메서드를 정의할 수 있게 되어 여러 구현체에서 공통 로직을 사용하기가 쉬워집니다.

* **용도**: 자바 인터페이스와의 호환성을 높이고, 여러 구현체에 동일한 로직을 포함하고자 할 때 활용됩니다.

**-progressive**

**Progressive 모드**는 다음 코틀린 버전에서 발생할 수 있는 호환성 문제를 미리 경고하거나 예외로 처리하는 모드입니다. Progressive 모드를 활성화하면, 호환성 이슈를 미리 확인할 수 있어 코드의 안정성을 높일 수 있습니다.

* **용도**: 최신 버전과의 호환성을 유지하면서 새로운 기능을 점진적으로 도입하고자 할 때 유용합니다.

**-Xexplicit-api=strict**

이 옵션은 모듈 내의 모든 API에 대해 명시적 가시성 설정을 요구합니다. `public`, `internal` 등의 가시성을 명확하게 지정하지 않으면 오류가 발생하여, 모듈의 API가 명확하게 관리될 수 있습니다.

* **용도**: 라이브러리 개발 시 명시적인 API 관리가 필요할 때 활용됩니다.

**-Xopt-in=kotlin.time.ExperimentalTime**

**코틀린의 시간 관련 API**를 활성화하는 옵션으로, Duration과 같은 시간 단위 연산을 지원합니다. 시간 관련 기능은 여전히 실험적 단계에 있으므로, 명시적으로 이 옵션을 통해 활성화해야 합니다.

* **용도**: Duration을 활용한 시간 단위 연산이 필요할 때 사용합니다.

**-Xno-param-assertions**

코틀린은 기본적으로 함수 파라미터에 대한 null 체크를 위한 어설션을 자동으로 추가합니다. 이 옵션을 활성화하면 이러한 어설션이 추가되지 않으며, 성능을 미세하게 최적화할 수 있습니다.

* **용도**: 파라미터에 대한 null 검사 어설션이 필요 없을 경우 성능을 향상시키기 위해 사용합니다.

**-Xjsr305=warn 또는 -Xjsr305=ignore**

`-Xjsr305=strict`와 유사하지만, `warn`은 잠재적 Null 이슈를 경고로 처리하고, `ignore`는 nullability를 무시합니다.

* **용도**: 자바 코드의 nullable 검사를 덜 엄격하게 하거나 무시하여 개발 중 발생할 수 있는 경고를 줄이고자 할 때 사용됩니다.

