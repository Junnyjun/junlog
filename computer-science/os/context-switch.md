# Context Switch

**CPU 시간을 할당하여 사용 가능한 다양한 작업의 실행을 예약하는** 프로세스 또는 작업 스케줄러가 있습니다 . 또한 각 프로세스는 컨텍스트라고 하는 상태에 대한 정보를 저장합니다.

실행 중인 프로세스가 CPU를 해제할 때가 되면 현재 실행 중인 프로세스에서 CPU를 제거하고 이를 대기 중인 프로세스 중 하나에 할당하는 강력하고 안전한 방법이 필요합니다.&#x20;

이는 나중에 해당 시점부터 실행하려면 상태를 저장해야 함을 의미합니다.\
마찬가지로, 실행 중인 프로세스 내의 스레드가 CPU를 다른 스레드에 양보할 때 전환이 발생합니다.

<img src="../../.gitbook/assets/file.excalidraw (5).svg" alt="" class="gitbook-drawing">

### 발생 원인

첫 번째 경우는 현재 실행 중인 프로세스나 스레드에 할당된 시간이 초과되어 이를 대기 중인 프로세스(또는 스레드) 중 하나에 할당하기 위해 CPU를 해제해야 하는 경우입니다.

두 번째 경우는 프로그램 실행 중에 커널함수를 호출하는 경우입니다. 예를 들어 SIGKILL 인터럽트 신호를 OS에 보내면 실행 중인 프로세스를 종료하여 CPU를 확보하게 됩니다.

마지막으로 우선순위가 높은 작업이 현재 실행 중인 작업을 선점할 수 있습니다.

<img src="../../.gitbook/assets/file.excalidraw (30).svg" alt="" class="gitbook-drawing">

## **CONTEXT SWITCH ?**&#x20;

운영 체제나 OS가 CPU에서 실행 중인 작업을 제거하고 이를 다른 작업에 할당하는 것입니다 전환된 프로세스의 context를 저장하고 교환하고 로드하는 과정입니다.

### PROCESS CONTROL BLOCK(PCB)

프로세스의 컨텍스트와 사용자 수준 컨텍스트로 구성되어 있는작업의정보를 담은 데이터 구조입니다&#x20;

#### 프로세스 컨텍스트

사용자 주소공간 , 하드웨어 레지스터, 커널 데이터 구조등을 저장하고 있습니다.\
레지스터 및 시스템 수준의 컨텍스트 입니다.

#### 사용자 수준 컨텍스트

프로세스 텍스트, 통계 파일, 데이터, 스택, 가상 주소 공간을 차지하는 공유 메모리로 구성됩니다.\
시스템 수준에는 테이블 레코드, 커널 스택, 가상 메모리 매핑정보등을 저장하고 있습니다.
