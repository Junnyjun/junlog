# Top Half& Bottom Half

인터럽트가 발생하면 리눅스에서는 보통 아래와 같은 처리를 하게 됩니다.

```
인터럽트 disable
해당 인터럽트에 관련된 기능 동작
인터럽트 enable
```

인터럽트가 발생하게 되면 우선 인터럽트 기능 자체를 disable 하게 됩니다.

지금 발생한 인터럽트에 관련된 기능을 모두 처리하기 전까지는 다른 인터럽트들은 무시하기 위해서입니다.\
인터럽트에 대한 처리가 모두 완료되면 인터럽트 기능을 enable하고 기능을 종료하게 됩니다.

하지만, 인터럽트를 처리하는 동안 커널은 인터럽트 컨텍스트에 있는 상태이므로, 인터럽트 처리를 선점한다든가, 잠시 멈추는 것은 불가능하다. 따라서 인터럽트를 처리하는 시간이 길면 길수록 시스템이 멈춘 것처럼 보일 수 있습니다.

### Top half

전반부 처리(Top half)는 인터럽트 핸들러가 담당하고, 인터럽트를 받은 즉시 실행되며, 인터럽트 수신 확인이나 하드웨어 재설정처럼 처리시한이 중요한 작업만을 처리합니다.

### Bottom half

나중에 할 수 있는 일은 후반부 처리(Bottom half)로 지연시킵니다. 리눅스에서는 후반부처리를 아래와 같이 다양한 방법으로 구현해 놓았습니다.

```
Bottom halves, Task queues, Softirq, Tasklet, Work queues
```
