# 동시성

#### 데드락 (Deadlock)

데드락은 한 집합에 속한 프로세스들이 다른 집합에 속한 프로세스들이 가지고 있는 자원을 기다리면서 무한정 대기하는 상황을 말합니다. 즉, 모든 프로세스가 서로가 점유하고 있는 자원을 기다리며 멈춰있는 상태입니다. <sup>2</sup>뮤텍스 락과 같은 동기화 도구를 잘못 사용할 경우 데드락이 발생할 수 있습니다.

데드락이 발생하기 위한 네 가지 필수 조건은 다음과 같습니다.

1. 상호 배제 (Mutual Exclusion): 최소한 하나의 자원은 한 번에 한 프로세스만 사용할 수 있는 비공유(non-sharable) 모드로 유지되어야 합니다.
2. 점유 및 대기 (Hold and Wait): 자원을 하나 이상 보유하고 있는 프로세스가 다른 프로세스가 가지고 있는 자원을 추가로 얻기 위해 기다리고 있는 상황이 있어야 합니다.&#x20;
3. 비선점 (No Preemption): 프로세스로부터 자원을 강제로 빼앗을 수 없습니다. 자원을 보유한 프로세스가 작업을 완료한 후 자발적으로만 해제할 수 있습니다.&#x20;
4. 순환 대기 (Circular Wait): 자원을 기다리는 프로세스들의 집합 `T0, T1, ..., Tn`이 존재하고, `T0`는 `T1`이 보유한 자원을, `T1`은 `T2`이 보유한 자원을, 그리고 `Tn`은 `T0`이 보유한 자원을 기다리는 형태여야 합니다.

이 네 가지 조건이 모두 충족될 때 데드락이 발생합니다.&#x20;

**라이브락 (Livelock)**

라이브락은 데드락과 유사하지만, 프로세스들이 블록되지 않고 계속해서 상태를 변경하면서도 진행하지 못하는 상황입니다. <sup>10</sup>예를 들어, 두 사람이 복도에서 서로 비켜주려다가 계속 같은 방향으로 움직여 결국 통과하지 못하는 상황과 같습니다.&#x20;

`pthread_mutex_trylock()` 함수와 같은 비블록킹(non-blocking) 동기화 기능을 사용할 때 발생할 수 있습니다.&#x20;

***

#### 기아 (Starvation)

기아는 프로세스가 실행을 시작하기 위해 필요한 자원을 무한정 기다리는 상태를 말합니다. 이는 세마포어와 같은 동기화 도구의 큐가 공정한 방식으로 구현되지 않을 때 발생할 수 있습니다. 예를 들어, 우선순위가 높은 프로세스에게만 자원이 계속 할당되면, 우선순위가 낮은 프로세스는 자원을 얻지 못해 영원히 대기하게 될 수 있습니다.&#x20;
