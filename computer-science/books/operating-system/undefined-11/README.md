# 파일 시스템 인터페이스

파일 시스템 인터페이스는 운영체제가 물리적인 저장 장치를 추상화하여 사용자에게 제공하는 논리적 저장 단위인 \*\*파일(File)\*\*과 그 관리 방식을 정의합니다. 운영체제는 복잡한 하드웨어 특성을 숨기고 일관된 인터페이스를 통해 데이터의 저장, 참조, 보호를 가능하게 합니다.

**파일 개념 (File Concept)**

파일은 보조 저장 장치에 기록된 관련 정보들의 집합입니다. 운영체제는 이를 논리적인 비트, 바이트, 라인 또는 레코드의 연속으로 매핑합니다.

* **파일 속성 (File Attributes)**:
* **이름**: 사람이 읽을 수 있는 유일한 형태의 정보입니다.
* **식별자**: 파일 시스템 내에서 파일을 고유하게 식별하는 번호(태그)이며, 사람이 읽을 수 없는 형태입니다.
* **유형**: 시스템이 여러 종류의 파일을 지원하는 경우, 파일의 형식을 나타냅니다.
* **위치**: 장치 내에서 파일 데이터가 실제 저장된 위치를 가리키는 포인터입니다.
* **크기**: 바이트, 워드 또는 블록 단위로 측정된 현재 파일의 크기입니다.
* **보호**: 읽기, 쓰기, 실행 권한을 결정하여 파일에 접근할 수 있는 사용자를 제어합니다.
* **시간, 날짜 및 사용자 식별**: 파일 생성, 최종 수정, 마지막 사용 시점과 관련 사용자 정보를 기록하며, 보호와 보안 관리에 사용됩니다.
* **파일 연산 (File Operations)**:
* **파일 생성**: 저장 장치에 공간을 할당하고, 새로운 파일에 대한 엔트리를 디렉터리에 추가합니다.
* **파일 쓰기**: 파일 이름과 데이터를 시스템 호출로 전달합니다. 커널은 파일 내의 쓰기 위치를 가리키는 포인터를 유지하여 데이터가 기록될 때마다 업데이트합니다.
* **파일 읽기**: 디렉터리에서 파일의 위치를 찾고, 읽기 포인터를 사용하여 요청된 데이터를 메모리로 가져옵니다.
* **파일 내 위치 재설정 (Seeking)**: 실제로 데이터를 읽거나 쓰지 않고, 현재의 파일 포인터를 특정 오프셋으로 이동시킵니다.
* **파일 삭제**: 디렉터리에서 해당 엔트리를 제거하고 파일이 점유하던 모든 물리적 공간을 빈 공간 관리 목록으로 되돌립니다.
* **파일 절단 (Truncating)**: 파일의 속성과 디렉터리 엔트리는 유지하되, 파일의 내용만 삭제하여 크기를 0으로 만듭니다.
* **파일 개방 및 폐쇄 (Opening and Closing)**:
* **Open()**: 파일에 대한 접근 효율을 높이기 위해, 처음 사용 시 디렉터리를 탐색하여 관련 정보를 \*\*열린 파일 테이블(Open-File Table)\*\*에 복사합니다. 이후의 연산은 디렉터리 탐색 없이 테이블의 인덱스(파일 기술자)를 통해 수행됩니다.
* **Close()**: 파일 사용이 끝나면 열린 파일 테이블에서 해당 엔트리를 제거합니다.
* **개방 횟수 (Open Count)**: 여러 프로세스가 동시에 파일을 열고 있을 때, 파일을 닫아도 되는 시점을 알기 위해 현재 파일을 참조하는 프로세스의 수를 추적합니다. 이 값이 0이 되면 시스템은 테이블에서 정보를 완전히 삭제합니다.

**파일 유형 (File Types)**

운영체제는 파일의 내용을 해석하고 적절한 처리를 수행하기 위해 파일 유형을 활용합니다.

* **확장자 기법**: 파일 이름의 일부(마침표 뒤의 문자열)를 사용하여 유형을 나타냅니다. (예: .txt, .exe, .c)
* **매직 넘버 (Magic Number)**: 파일의 시작 부분에 특정 비트 패턴을 저장하여 파일 시스템이 실행 파일인지 이미지 파일인지 등을 즉시 판별할 수 있게 합니다.
* **운영체제 지원**: 유형을 인식하는 운영체제는 특정 파일을 실행하거나 적절한 응용 프로그램으로 연결하는 등의 편의 기능을 제공할 수 있습니다.
