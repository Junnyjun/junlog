# 파일 시스템 마운팅

파일 시스템은 사용되기 전에 반드시 운영체제에 의해 인식되고 연결되어야 합니다. 이 과정을 \*\*마운팅(Mounting)\*\*이라고 하며, 여러 저장 장치에 흩어져 있는 파일 시스템들을 하나의 논리적인 트리 구조로 합치는 역할을 합니다.

**마운팅의 기본 개념**

컴퓨터에 새로운 저장 장치(USB, 하드 디스크 등)를 연결했을 때, 운영체제는 해당 장치 내부의 파일 구조를 기존의 루트 파일 시스템 구조에 통합해야 합니다.

* 마운트 지점 (Mount Point): 기존 파일 시스템 내에서 새로운 파일 시스템이 결합될 위치(일반적으로 빈 디렉터리)를 의미합니다.
* 작동 원리: 운영체제는 장치 내의 파일 시스템 구조를 읽어 들여, 지정된 마운트 지점 디렉터리와 연결합니다. 마운트가 완료되면 해당 디렉터리에 접근하는 것은 사실상 새로운 장치의 루트 디렉터리에 접근하는 것과 같습니다.

**마운팅 과정의 세부 단계**

운영체제는 마운트 요청을 받으면 다음과 같은 내부 절차를 거칩니다.

* 장치 확인: 운영체제는 요청된 장치가 유효한 파일 시스템(예: NTFS, FAT32, ext4)을 포함하고 있는지 확인합니다.
* 파일 시스템 유효성 검사: 장치 드라이버를 통해 장치를 읽고, 파일 시스템의 메타데이터(슈퍼블록 등)가 손상되지 않았는지 검사합니다.
* 경로 연결: 운영체제는 커널 내의 마운트 테이블을 갱신하여, 특정 경로명이 물리적으로 어떤 장치와 연결되는지 기록합니다.

**마운트 지점의 특이 사항**

마운트 작업을 수행할 때 발생할 수 있는 특수한 상황들에 대한 처리 방식입니다.

* 비어있지 않은 디렉터리에 마운트: 만약 파일이 들어있는 디렉터리를 마운트 지점으로 지정하면, 마운트가 유지되는 동안 기존에 있던 파일들은 일시적으로 가려져(Hidden) 접근할 수 없게 됩니다. 장치를 마운트 해제(Unmount)하면 다시 원래 파일들이 나타납니다.
* 다중 마운트: 하나의 장치를 여러 마운트 지점에 동시에 연결하거나, 이미 마운트된 지점 위에 다른 장치를 중첩해서 마운트하는 것을 허용하는 운영체제도 있습니다.

**운영체제별 마운팅 방식의 차이**

각 운영체제는 사용자에게 마운팅을 노출하는 방식이 서로 다릅니다.

* UNIX 및 Linux 계열: 사용자가 임의의 디렉터리를 생성하고 `mount` 명령을 통해 명시적으로 결합합니다. 모든 장치는 하나의 거대한 루트(`/`) 트리 아래에 배치됩니다.
* Windows 계열: 시스템이 새로운 장치를 감지하면 자동으로 인식(Auto-mounting)하는 경우가 많습니다. 각 파티션이나 장치에 `C:`, `D:`와 같은 드라이브 문자를 할당하여 별도의 트리 구조로 관리하거나, NTFS 경로 내의 특정 폴더에 마운트할 수도 있습니다.

**마운트 해제 (Unmounting)**

장치를 안전하게 제거하기 위해 연결을 끊는 과정입니다.

* 제약 사항: 해당 파일 시스템 내의 파일이 프로세스에 의해 사용 중(Open 상태)이거나, 실행 중인 프로그램이 있다면 운영체제는 장치 사용 중(Device Busy) 오류를 내며 마운트 해제를 거부하여 데이터 손상을 방지합니다.

***

이 내용이 파일 시스템 마운팅에 대한 상세 정리입니다.

다음 섹션인 \*\*파일 공유 (File Sharing)\*\*로 진행할까요? 다중 사용자 시스템에서 파일 접근 권한과 원격 파일 시스템에 대해 다루게 됩니다.
