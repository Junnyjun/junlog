# MAC Address

## MAC 주소(MAC Address)에 대한 심층 분석

**MAC(Media Access Control) 주소**는 네트워크 통신에서 필수적인 요소로, 네트워크 인터페이스에 고유하게 할당되는 **물리적 주소**입니다. 이는 데이터 링크 계층에서 장치를 식별하고 통신을 가능하게 합니다.&#x20;

### MAC 주소의 개념과 역할

MAC 주소는 **OSI 7 계층 모델**에서 **데이터 링크 계층**(2계층)에서 사용되는 식별자입니다. 네트워크 상의 각 장치는 고유한 MAC 주소를 가지며, 이를 통해 동일한 네트워크 내에서 데이터 패킷의 송수신을 관리합니다. MAC 주소는 네트워크 인터페이스 카드(NIC)에 내장되어 있으며, 일반적으로 제조 과정에서 할당됩니다.

### MAC 주소의 구조

#### 48비트 주소 체계

MAC 주소는 **48비트**로 구성되어 있으며, 이는 총 6바이트에 해당합니다. 각 바이트는 8비트로 이루어져 있으며, 전체 주소는 16진수로 표현됩니다.

#### 표기 방법

MAC 주소는 일반적으로 **콜론(:)** 또는 **하이픈(-)** 을 사용하여 바이트 단위로 구분합니다. 예를 들어:

* `00:1A:2B:3C:4D:5E`
* `00-1A-2B-3C-4D-5E`

#### OUI와 NIC 특정 부분

MAC 주소는 두 부분으로 나뉩니다:

1. **OUI(Organizationally Unique Identifier):** 상위 24비트(첫 3바이트)는 제조사 식별자입니다. IEEE에서 관리하며, 각 네트워크 장비 제조사에게 고유하게 부여됩니다.
2. **NIC Specific:** 하위 24비트(나머지 3바이트)는 해당 제조사가 장치에 고유하게 할당하는 일련 번호입니다.

### MAC 주소의 할당과 관리

#### IEEE의 역할

\*\*IEEE(Institute of Electrical and Electronics Engineers)\*\*는 MAC 주소의 OUI 부분을 관리합니다. 제조사는 IEEE로부터 OUI를 할당받아야 하며, 이를 기반으로 각 장치에 고유한 MAC 주소를 생성합니다.

#### 제조사의 역할

제조사는 할당받은 OUI를 사용하여 제품별로 고유한 MAC 주소를 부여합니다. 이는 제조 공정에서 하드웨어에 직접 내장되거나 펌웨어에 저장됩니다.

#### MAC 주소의 고유성 보장

MAC 주소의 고유성은 네트워크에서 장치를 정확하게 식별하는 데 필수적입니다. 제조사는 동일한 MAC 주소가 중복되지 않도록 철저한 관리가 필요합니다.

### 데이터 링크 계층에서의 MAC 주소

#### 프레임(Frame) 통신

데이터 링크 계층에서는 **프레임** 단위로 데이터를 전송합니다. 각 프레임에는 송신자와 수신자의 MAC 주소가 포함되어 있어, 물리적인 네트워크 내에서 정확한 통신이 가능하게 합니다.

#### 스위치의 MAC 주소 학습

네트워크 스위치는 연결된 장치들의 MAC 주소를 학습하여 **MAC 주소 테이블**을 생성합니다. 이를 통해 효율적인 패킷 전달이 가능하며, 네트워크 부하를 최소화합니다.

#### 브로드캐스트와 유니캐스트

* **유니캐스트(Unicast):** 단일 수신자에게 데이터를 전송하는 방식으로, 목적지 MAC 주소를 지정합니다.
* **브로드캐스트(Broadcast):** 네트워크의 모든 장치에게 데이터를 전송하는 방식으로, MAC 주소가 `FF:FF:FF:FF:FF:FF`로 설정됩니다.

### MAC 주소와 ARP 프로토콜

#### ARP(Address Resolution Protocol)의 기능

**ARP 프로토콜**은 IP 주소를 MAC 주소로 변환하는 역할을 합니다. 네트워크 통신에서 IP 주소만으로는 데이터 링크 계층에서 패킷을 전달할 수 없으므로, 해당 IP 주소를 가진 장치의 MAC 주소를 알아내야 합니다.

#### ARP 요청과 응답 과정

1. **ARP 요청:** 송신자는 목적지 IP 주소를 가진 장치의 MAC 주소를 알기 위해 브로드캐스트 메시지를 전송합니다.
2. **ARP 응답:** 해당 IP 주소를 가진 장치는 자신의 MAC 주소를 포함한 응답을 송신자에게 유니캐스트로 전송합니다.
3. **ARP 캐시:** 송신자는 응답받은 MAC 주소를 **ARP 캐시**에 저장하여 이후 통신에서 재사용합니다.

### MAC 주소의 유형과 특수 주소

#### 멀티캐스트 주소

**멀티캐스트(Multicast)** 주소는 특정 그룹의 장치들에게 데이터를 전송하기 위한 주소입니다. 멀티캐스트 주소 범위는 MAC 주소의 최하위 비트(MSB)가 `1`인 경우로 정의됩니다.

#### 로컬 관리 주소와 글로벌 관리 주소

* **글로벌 관리 주소:** IEEE에서 관리하는 표준 MAC 주소로, 제조사가 OUI를 기반으로 할당합니다.
* **로컬 관리 주소:** 네트워크 관리자가 필요에 따라 설정하는 MAC 주소로, MAC 주소의 두 번째 비트가 `1`인 경우입니다.

### MAC 주소와 네트워크 보안

#### MAC 스푸핑 공격

공격자가 다른 장치의 MAC 주소로 위장하여 네트워크에 침입하는 것을 **MAC 스푸핑(MAC Spoofing)** 이라고 합니다. 이를 통해 네트워크 트래픽을 가로채거나 무단 액세스가 가능합니다.

#### 보안 대책

* **포트 보안(Port Security):** 스위치에서 특정 포트에 허용된 MAC 주소를 제한하여 무단 장치의 연결을 차단합니다.
* **동적 ARP 검사(Dynamic ARP Inspection):** ARP 트래픽을 모니터링하여 스푸핑 공격을 방지합니다.
* **MAC 주소 필터링:** 네트워크 장비에서 허용된 MAC 주소 목록을 관리하여 보안을 강화합니다.

### MAC 주소 변경의 필요성과 방법

#### 합법적인 변경 사례

* **프라이버시 보호:** 일부 사용자는 개인 정보 보호를 위해 MAC 주소를 변경합니다.
* **네트워크 문제 해결:** 충돌이 발생한 경우 MAC 주소를 변경하여 문제를 해결할 수 있습니다.

#### 변경 방법

운영 체제별로 명령어나 설정을 통해 MAC 주소를 변경할 수 있습니다. 예를 들어, 리눅스에서는 `ifconfig` 또는 `ip` 명령어를 사용합니다.

```bash
sudo ifconfig eth0 hw ether 00:11:22:33:44:55
```

### MAC 주소와 IPv6의 관계

#### EUI-64 방식

IPv6에서는 MAC 주소를 기반으로 한 **EUI-64** 방식을 사용하여 인터페이스 식별자를 생성할 수 있습니다. 이는 MAC 주소를 64비트로 확장하여 사용합니다.

#### 프라이버시 확장

보안 및 프라이버시 이슈로 인해, 현대의 IPv6 구현에서는 랜덤한 인터페이스 식별자를 생성하여 MAC 주소 노출을 방지합니다.

### MAC 주소 제한

#### MAC 주소 공간의 제한

48비트 주소 공간은 약 **2^48(약 2.8조 개)** 의 고유 주소를 제공합니다. 그러나 IoT 기기의 폭발적인 증가로 인해 주소 고갈에 대한 우려가 있습니다.

#### 확장된 MAC 주소

* **EUI-64:** 64비트 MAC 주소 체계로, 더 많은 주소 공간을 제공합니다.
* **IEEE의 대응:** 새로운 주소 할당 정책과 효율적인 관리로 문제를 해결하고자 합니다.
